import{S as J,i as M,s as V,k as d,q as S,a as k,l as _,m,r as D,h as f,c as H,n as I,b as j,H as u,C as q,J as G,u as L,f as C,t as P,d as K,I as Q,o as U,x as W,y as X,z as Z,A as tt,g as et}from"../../chunks/index-530219ef.js";import{w as st}from"../../chunks/index-6715ee70.js";function O(s,t,n){const e=s.slice();return e[1]=t[n],e}function R(s){let t,n,e=s[1].pageId+"",r,a,b,g=s[1].hitsCount+"",p,y;return{c(){t=d("tr"),n=d("td"),r=S(e),a=k(),b=d("td"),p=S(g),y=k()},l(h){t=_(h,"TR",{});var c=m(t);n=_(c,"TD",{});var v=m(n);r=D(v,e),v.forEach(f),a=H(c),b=_(c,"TD",{});var l=m(b);p=D(l,g),l.forEach(f),y=H(c),c.forEach(f)},m(h,c){j(h,t,c),u(t,n),u(n,r),u(t,a),u(t,b),u(b,p),u(t,y)},p(h,c){c&1&&e!==(e=h[1].pageId+"")&&L(r,e),c&1&&g!==(g=h[1].hitsCount+"")&&L(p,g)},d(h){h&&f(t)}}}function nt(s){let t,n,e,r,a,b,g,p,y,h,c,v=s[0],l=[];for(let i=0;i<v.length;i+=1)l[i]=R(O(s,v,i));return{c(){t=d("div"),n=d("table"),e=d("thead"),r=d("tr"),a=d("th"),b=S("Path"),g=k(),p=d("th"),y=S("Hit Count"),h=k(),c=d("tbody");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=_(i,"DIV",{class:!0});var $=m(t);n=_($,"TABLE",{id:!0,class:!0});var o=m(n);e=_(o,"THEAD",{});var E=m(e);r=_(E,"TR",{});var T=m(r);a=_(T,"TH",{});var A=m(a);b=D(A,"Path"),A.forEach(f),g=H(T),p=_(T,"TH",{});var B=m(p);y=D(B,"Hit Count"),B.forEach(f),T.forEach(f),E.forEach(f),h=H(o),c=_(o,"TBODY",{});var N=m(c);for(let x=0;x<l.length;x+=1)l[x].l(N);N.forEach(f),o.forEach(f),$.forEach(f),this.h()},h(){I(n,"id","page-hit-count-table-global"),I(n,"class","table"),I(t,"class","flex w-full overflow-x-auto mt-5")},m(i,$){j(i,t,$),u(t,n),u(n,e),u(e,r),u(r,a),u(a,b),u(r,g),u(r,p),u(p,y),u(n,h),u(n,c);for(let o=0;o<l.length;o+=1)l[o].m(c,null)},p(i,[$]){if($&1){v=i[0];let o;for(o=0;o<v.length;o+=1){const E=O(i,v,o);l[o]?l[o].p(E,$):(l[o]=R(E),l[o].c(),l[o].m(c,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=v.length}},i:q,o:q,d(i){i&&f(t),G(l,i)}}}function rt(s,t,n){let{hits:e}=t;return s.$$set=r=>{"hits"in r&&n(0,e=r.hits)},[e]}class ot extends J{constructor(t){super(),M(this,t,rt,nt,V,{hits:0})}}function at(){return fetch("json/nolytics.json").then(s=>s.json())}function lt(s){return{hitsSummary:s.hitsSummary.sort((t,n)=>-(t.hitsCount-n.hitsCount)),visitorsSummary:s.visitorsSummary}}var w=(s=>(s[s.initial=0]="initial",s[s.loading=1]="loading",s[s.success=2]="success",s[s.failure=3]="failure",s[s.throttled=4]="throttled",s))(w||{});function F(s,t){return{value:s,state:t,loading:t==1,success:t==2,failure:t==3,throttled:t==4}}function it(){const s=st({});return{set:s.set,subscribe:s.subscribe,update:s.update,state:w.initial}}function ct(s,t){return ut(s,w.loading,t)}function ut(s,t,n){return s.update(e=>F(e.value,t)),s.state=t,n==null?void 0:n()}function ft(s,t){return ht(s,t,w.success)}function ht(s,t,n){const e=F(t,n);return s.state=n,s.set(e)}const Y=dt();function dt(){const s=it();return{subscribe:s.subscribe,read:()=>ct(s,()=>at().then(n=>ft(s,lt(n))))}}function z(s){let t,n;return t=new ot({props:{hits:s[0].value.hitsSummary}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){Z(t,e,r),n=!0},p(e,r){const a={};r&1&&(a.hits=e[0].value.hitsSummary),t.$set(a)},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function _t(s){let t,n,e=s[0].success&&z(s);return{c(){t=d("body"),e&&e.c()},l(r){t=_(r,"BODY",{});var a=m(t);e&&e.l(a),a.forEach(f)},m(r,a){j(r,t,a),e&&e.m(t,null),n=!0},p(r,[a]){r[0].success?e?(e.p(r,a),a&1&&C(e,1)):(e=z(r),e.c(),C(e,1),e.m(t,null)):e&&(et(),P(e,1,1,()=>{e=null}),K())},i(r){n||(C(e),n=!0)},o(r){P(e),n=!1},d(r){r&&f(t),e&&e.d()}}}function mt(s,t,n){let e;return Q(s,Y,r=>n(0,e=r)),U(()=>{Y.read()}),[e]}class gt extends J{constructor(t){super(),M(this,t,mt,_t,V,{})}}export{gt as default};
